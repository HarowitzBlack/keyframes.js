<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Keyframes.js</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="style.css"/>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12 text-center">
                <a href="https://github.com/alexeisavca/keyframes.js">View source and documentation on github</a>
            </div>
            <div class="jumbotron col-md-12">
                <h1>Press <code>F12</code> and have fun!</h1>
                <p>
                    The keyframes library can be accessed via <var>K</var> global variable.<br/>
                    The shape ids are <var>#shape-1</var>, <var>#shape-2</var>, <var>#shape-3</var> and so on.
                </p>
                <p>...or just play around with examples below...</p>
            </div>
            <h2 class="col-md-12">
                Roll
            </h2>
            <div class="col-md-6">
                <div id="editor-1" class="editor">
var moveRight = K.chainEvenly(
    K.ensureProperty('marginLeft', "0px"),
    K.ensureProperty('marginLeft', "100px"),
    K.ensureProperty('marginLeft', "200px"),
    K.ensureProperty('marginLeft', "300px")
);
var ensureTransformOrigin = K.ensureProperty("transform-origin", "100% 100%");
var rotate90deg = K.transition('transform', 'rotateZ(0deg)', 'rotateZ(90deg)');
var rotate90degEased = K.easings.easeInOutExpo(rotate90deg)
var rotate90deg4times = K.repeat(4, rotate90degEased);
var roll = K.merge(ensureTransformOrigin, rotate90deg4times, moveRight);
var rollAndWaitABit = K.linger(.90, roll);
var rollRightThenBack = K.toAndFrom(rollAndWaitABit);
K.stream(4000, K.prerender(4000, rollRightThenBack), K.intoDom(document.getElementById('shape-1')))
                </div>
                <button class="btn success btn-block" id="launch-1">Run</button>
            </div>
            <div class="col-md-6">
                <div id="shape-1" class="rect"></div>
            </div>
            <h2 class="col-md-12">
                Hide/show
            </h2>
            <div class="col-md-6">
                <div id="editor-2" class="editor">
var hide = K.tween({
    transform: "scale(1) rotate(0deg)",
    opacity: 1
}, {
    transform: "scale(0.1) rotate(90deg)",
    opacity: 0
});
var hideAndLinger = K.linger(.25, hide);
var hideThenShow = K.toAndFrom(hideAndLinger);
K.stream(2000, K.easings.easeInOutExpo(hideThenShow), K.intoDom(document.getElementById('shape-2')));
                </div>
                <button class="btn success btn-block" id="launch-2">Run</button>
            </div>
            <div class="col-md-6">
                <div id="shape-2" class="rect"></div>
            </div>
            <h2 class="col-md-12">
                Stress test
            </h2>
            <div class="col-md-6">
                <div id="editor-3" class="editor">
var NR_RECTS = 500;
var markup = &quot;&quot;;
for(var counter=0; counter&lt;NR_RECTS; counter++){
    markup += '&lt;div class=&quot;rect&quot; style=&quot;&quot;&gt;&lt;/div&gt;';
}

document.getElementById('shape-3').innerHTML = markup;
var rects = document.querySelectorAll(&quot;#shape-3 div&quot;);
var rotate = K.transition('transform', 'rotateZ(0deg)', 'rotateZ(360deg)');
var prerenderedRotate = K.prerender(500, rotate);
K.infiniteStream(500, rotate, function(state){
    Object.keys(rects).forEach(function(index){
        if('length' == index) return;
        var rect = rects[index];
        Object.keys(state).forEach(function(property){
            rect.style[property] = state[property];
        })
    })
})
                </div>
                <button class="btn success btn-block" id="launch-3">Run</button>
            </div>
            <div class="col-md-6" id="shape-3">
            </div>
            <h2 class="col-md-12">
                Rendering to CSS
            </h2>
            <div class="col-md-6">
                <div id="editor-4" class="editor">
var animation =K.toAndFrom(
    K.easings.easeInExpo(
        K.transition('transform', 'translateY(0px)', 'translateY(150px')
    )
)

var keyframes = K.toCss('from-keyframes-js-with-love', 60, animation);
var css = "#shape-4{animation: from-keyframes-js-with-love 1s infinite}\n" + keyframes;

cssEditor.getSession().setValue( css );
document.getElementById('style-1').innerHTML = css;
                </div>
                <button class="btn success btn-block" id="launch-4">Run</button>
            </div>
            <div class="col-md-1">
                <style id="style-1"></style>
                <div id="shape-4" class="rect"></div>
            </div>
            <div class="col-md-5">
                <div id="css-editor-1" class="editor">
                </div>
            </div>

            <div class="col-md-12 text-center">
                <a href="https://github.com/alexeisavca/keyframes.js">View source and documentation on github</a>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>